<div class="container create-news-wrapper">
    <div [hidden]="submitted">
        <h1 class="create-news-title">
            <span *ngIf="!editMode">New BFSI News</span>
            <span *ngIf="editMode">Edit News</span>
        </h1>
        <form class="create-news-form" (ngSubmit)="onSubmit()" #newsForm="ngForm">
            <div class="form-group">
                <label for="name">Title</label>
                <input type="text" class="form-control" id="title" required [(ngModel)]="model.title" name="title" #name="ngModel">
                <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                    Title is required
                </div>
            </div>

            <div class="form-group">
                <label for="description">Description</label>
                <textarea class="form-control" id="description" [(ngModel)]="model.description" name="description"></textarea>
            </div>

            <div class="form-group" [ngClass]="editMode ? 'edit-news' : 'create-news'">
                <ng-container *ngIf="editMode && model.image">
                    <div class="currently-save-img-wrapper">
                        <span>Currently saved image :</span>
                        <img style="width:100px;height:100px;" src="data:image/png;base64,{{model.image}}">
                        <div class="cross-btn">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                </ng-container>
                <div class="add-img-wrapper">
                <label *ngIf="!editMode" for="newsImg">Add Image</label>                
                <label *ngIf="editMode && !useSameImage"  for="newsImg">Edit Image</label>
                <input *ngIf="!useSameImage"  type="file" id="newsImg" (change)="imageUpload($event)" 
                    accept=".jpg, .png" name="newsImg"/><br>
                <label *ngIf="editMode && model.image">
                <input type="checkbox" name="SameImage" [(ngModel)]="useSameImage">Use Same image
                </label>
                </div>
                <!--<div> <img [attr.src]='file_srcs[0]' alt="" /> </div>-->
            </div>

            <div class="form-group">
                <label for="power">Author</label>
                <input type="text" class="form-control" id="authorName" [(ngModel)]="model.authorName" name="authorName" #authorName="ngModel">
                <div [hidden]="authorName.valid || authorName.pristine" class="alert alert-danger">
                    Author Name is required
                </div>
            </div>

            <div class="form-group" class="no-animate">
                <label for="tags">Tags</label>
                <p-chips [(ngModel)]="model.tags" name="tags"></p-chips>
            </div>

            <div class="form-buttons">
                <button type="submit" class="btn btn-success" [disabled]="!newsForm.form.valid">Submit</button>
                <button type="button" *ngIf="!editMode" class="btn" (click)="newNews(); newsForm.reset()">Reset</button>
                <button type="button" *ngIf="editMode" class="btn" (click)="cancel()">Cancel</button>
            </div>
        </form>
    </div>
</div>